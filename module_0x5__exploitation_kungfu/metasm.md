# Metasm
Metasm is a cross-architecture assembler, disassembler, linker, and debugger. 
It is written in such a way that it is easy to add support for new architectures.
For now, the following architectures are in:

* Intel <core/Ia32.txt> (16 and 32bits)
* Intel <core/X86_64.txt> (*aka* Ia32 64bits, X64, AMD64)
* MIPS
* PowerPC
* Sh4

Supports low and high-level debugging support (Ia32 only for now) under Windows, Linux and remote (via a GdbServer). Metasm is included in Metasploit by default.

- To install metasm 
```
gem install metasm
```
More about installation [here](https://github.com/jjyg/metasm/blob/master/doc/install_notes.txt). 

## Converting Assembly to Op-code - metasm-shell.rb
You can find metasm-shell in ruby gems default path after installation. In my case, it's located in `/var/lib/gems/2.1.0/gems/metasm-1.0.2/samples`

- Run it

```ruby
ruby metasm-shell.rb 
type "exit" or "quit" to quit
use ";" for newline

asm>
```
as you can see you are now in the shell's prompt

- Find assembly op-code 

```ruby
asm> nop nop
"\x90\x90"
asm> call [eax]
"\xff\x10"
asm> push esp
"\x54"
asm> pop eax
"\x58"
```

More usage will be added for this awesome library.


<!---

https://github.com/jjyg/metasm/tree/master/samples

http://archive.hack.lu/2007/metasm.pdf

https://www.pentestgeek.com/2012/01/25/using-metasm-to-avoid-antivirus-detection-ghost-writing-asm/

http://blog.cobaltstrike.com/2012/11/09/using-av-safe-executables-with-cortana/

https://funoverip.net/wp-content/uploads/2012/06/AV-Sandbox-Presentation_v2.0.pdf

https://www.blackhat.com/presentations/bh-usa-09/TRACY/BHUSA09-Tracy-RubyPentesters-PAPER.pdf

-->




<br><br><br>
---
